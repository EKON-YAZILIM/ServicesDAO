@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";

}

@model Helpers.Models.WebsiteViewModels.MyJobsViewModel
<!-- Row -->
<div class="row d-flex mb-3">
    <div class="col-md-6 d-flex">
    </div>
    <div class="col-md-6 d-flex justify-content-end">
        <button class="btn btn-primary" type="button" onclick="window.location.href='./New-Job';">
            <svg class="icon me-2">
                <use xlink:href="/Home/images/svg/free.svg#cil-plus"></use>
            </svg>New Job
        </button>
    </div>
</div>
<!-- Row -->
<div class="row">
    <div class="col-md-12">
        @if (Model.ownedJobs.Count() > 0)
        {
            @foreach (var item in Model.ownedJobs)
            {
                <div class="card mb-3">
                    <!-- Card Header-->
                    <div class="card-header">
                        <div class="titleContainer">
                            <h5 class="card-title" title="Services DAO Portal Scoping Grant">@item.Title </h5>
                            <small class="text-medium-emphasis">@item.CreateDate.ToString("dd.MM.yyyy")</small>
                        </div>
                    </div> <!-- Card Header-->
                    <!-- Card Body-->
                    <div class="card-body cursorp" onclick="window.location.href='./Job-Detail/'+@item.JobID">
                        <p class="p-3 card-text">
                            @item.JobDescription
                        </p>
                        <p class="card-text"><small class="text-medium-emphasis">Last updated @item.LastUpdate.ToString("dd.MM.yyyy") </small></p>
                    </div> <!-- Card Body-->
                    <!-- Card Footer-->
                    <div class="card-footer">
                        <a class="card-text me-2 cA" href="./Job-Detail/@item.JobID">
                            <svg class="icon">
                                <use xlink:href="/Home/images/svg/free.svg#cil-comment-bubble"></use>
                            </svg> @item.CommentCount Comment
                        </a>
                        <a class="card-text cA" href="#">
                            <svg class="icon">
                                <use xlink:href="/Home/images/svg/free.svg#cil-share"></use>
                            </svg> Share
                        </a>
                        <a class="card-text cA" onclick="window.location.href='./My-Job-Edit/'+@item.JobID">
                            <svg class="icon">
                                <use xlink:href="/Home/images/svg/free.svg#cil-share"></use>
                            </svg> Edit
                        </a>
                    </div> <!-- Card Footer-->
                </div>
            }



        }
        else
        {
            <partial name="~/Views/Shared/_ErrorPartial.cshtml" view-data='new ViewDataDictionary(ViewData) { { "Message", "Job not found." } }' />
        }

    </div>
</div>

